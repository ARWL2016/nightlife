'use strict';(function(){'use strict';function a(a,b,c,d){return{addToDiary:function(c,d,e){if(b.objectIsEmpty([c,d,e]))return Promise.reject('Could not add to diary. Data incomplete.');var f=JSON.stringify({user:c,location:d,datetime:e});return a.post('/api/diary/add',f,{headers:{"Content-Type":'application/json'}})},getEvents:function(){var e=c.getUser();if(b.objectIsEmpty([e]))return Promise.reject('user not logged in');var f=e.displayName,g=e.token;return a.get('api/diary/events/user?name='+f+'&token='+g).then(function(a){return a.data}).catch(function(a){return d.logError('diary.service.getEvents','events could not be fetched'),a})},deleteEvent:function(b){var c=JSON.stringify(b);return a.delete('/api/diary/delete',{headers:{"Content-Type":'application/json'},data:c}).then(function(){}).catch(function(a){return d.logError('diary.service.deleteEvent',a),a})}}}angular.module('app').factory('diaryService',a),a.$inject=['$http','helperService','localStorageService','errorService']})();