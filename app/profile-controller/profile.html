<div ng-controller="ProfileCtrl as pro" class="profile-page-wrapper">
  <div class="profile-page-content">
    <h1>Profile</h1>
    <table class="profile-table">
      <tr>
        <td class="profile-table-icon-cell">
          <i ng-show="pro.displayName" class="fa fa-check-square" aria-hidden="true"></i>
          <i ng-show="!pro.displayName" class="fa fa-times-circle" aria-hidden="true"></i>
        </td>
        <td class="profile-table-heading-cell">
          <b>User</b>
        </td>
        <td>
          {{pro.displayName || 'not logged in'}}
        </td>
      </tr>
      <tr>
        <td class="profile-table-icon-cell">
          <i class="fa fa-map-marker" aria-hidden="true"></i>
        </td>
        <td class="profile-table-heading-cell">
          <b>Location</b>
        </td>
        <td>
            {{pro.location.formatted_address || 'not set'}}
        </td>
      </tr>
    </table>

    <form name="locationSearch" class="location-search-form">
      <!-- <label for="location" class="location-form-label">Set Location</label> -->
      <input 
        type="text"
        name="location"
        class="location-form-input"
        ng-model="pro.query"
        placeholder="set location"
        autocomplete="off"
        required>
        <button ng-click="pro.searchLocation()" class="location-form-button"><i class="fa fa-search" aria-hidden="true"></i></button>    
    </form>
    <div ng-show="pro.showSpinner" class="spinner spinner-profile"></div>
    <div ng-show="pro.results" class="location-search-results-wrapper">
      <p ng-repeat="result in pro.results" ng-click="pro.selectLocation(result)" class="location-search-result">
        {{result.formatted_address}}
      </p>
    </div>

    <!-- diary events  -->
    <div class="events-wrapper">
      <h1>Diary Events</h1>
      <table class="events-table">
        <tr ng-repeat="event in pro.events">
          <td><b>{{event.place_name}}</b></td>
          <td>{{event.date}} {{event.hour}} {{event.amPm}}</td>
          <td ng-click="pro.deleteEvent(event)">
            <i class="fa fa-trash" aria-hidden="true" title="remove event"></i>
          </td>
        </tr>
      </table>
    </div>

  </div>  
</div>